<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Send.it ‚Äî Cross-Module Composer</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
:root{
--bg:#0f1117;--bg2:#151820;--bg3:#1c1f2e;--bg4:#252838;
--neon:#00e87b;--neon2:#00e87b;--pink:#ff2d78;--purple:#a855f7;--orange:#ff8800;--yellow:#ffc107;
--text:#e8e8f0;--text2:#8888aa;--text3:#555570;
--glow:0 0 20px rgba(0,232,123,.3);
--radius:12px;--radius2:8px;
}
html{font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);scroll-behavior:smooth}
body{min-height:100vh;overflow-x:hidden;background-image:
  linear-gradient(rgba(0,232,123,.03) 1px,transparent 1px),
  linear-gradient(90deg,rgba(0,232,123,.03) 1px,transparent 1px);
  background-size:60px 60px}
a{color:inherit;text-decoration:none}
button{cursor:pointer;font-family:inherit;border:none;outline:none}
input[type=range]{-webkit-appearance:none;width:100%;height:6px;border-radius:3px;background:var(--bg4);outline:none;margin:8px 0}
input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:18px;height:18px;border-radius:50%;background:var(--neon);cursor:pointer;box-shadow:0 0 8px rgba(0,232,123,.5)}
::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:var(--bg)}::-webkit-scrollbar-thumb{background:var(--bg4);border-radius:3px}

.testnet-banner{position:fixed;top:0;left:0;right:0;z-index:9999;background:linear-gradient(90deg,#0f1117,#1a2332,#0f1117);padding:10px 16px;text-align:center;font-weight:800;font-size:14px;letter-spacing:1px;color:var(--neon);text-transform:uppercase;font-family:'JetBrains Mono',monospace;box-shadow:0 2px 20px rgba(0,232,123,.2);border-bottom:1px solid rgba(0,232,123,.3);animation:bannerPulse 3s ease-in-out infinite}
@keyframes bannerPulse{0%,100%{box-shadow:0 2px 20px rgba(0,232,123,.2)}50%{box-shadow:0 2px 30px rgba(0,232,123,.4)}}

#app{display:flex;flex-direction:column;min-height:100vh;padding-top:40px}

header{position:sticky;top:40px;z-index:100;background:rgba(15,17,23,.92);backdrop-filter:blur(20px);border-bottom:1px solid rgba(0,232,123,.15);padding:0 24px;height:64px;display:flex;align-items:center;justify-content:space-between}
.logo{display:flex;align-items:center;gap:10px;font-weight:900;font-size:22px;letter-spacing:-1px}
.logo span{color:var(--neon);text-shadow:0 0 20px rgba(0,232,123,.4)}
.logo-icon{width:32px;height:32px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:24px;animation:pulse-glow 2s ease-in-out infinite}
@keyframes pulse-glow{0%,100%{filter:drop-shadow(0 0 6px rgba(0,232,123,.4))}50%{filter:drop-shadow(0 0 14px rgba(0,232,123,.7))}}
.wallet-btn{padding:10px 20px;border-radius:10px;font-weight:700;font-size:13px;color:#000;background:linear-gradient(135deg,var(--neon),var(--neon2));transition:.3s}
.wallet-btn:hover{transform:translateY(-1px);box-shadow:var(--glow)}

nav{position:sticky;top:104px;z-index:99;background:rgba(15,17,23,.92);backdrop-filter:blur(12px);border-bottom:1px solid rgba(0,232,123,.08);display:flex;justify-content:center;gap:4px;padding:8px 16px;flex-wrap:wrap}
.nav-item{padding:10px 22px;border-radius:10px;font-size:14px;font-weight:600;color:var(--text2);transition:.25s;display:flex;align-items:center;gap:8px;position:relative;white-space:nowrap}
.nav-item:hover{color:var(--text);background:var(--bg3)}
.nav-item.active{color:var(--neon);background:rgba(0,255,136,.08)}
.nav-item.active::after{content:'';position:absolute;bottom:-8px;left:50%;transform:translateX(-50%);width:24px;height:2px;background:var(--neon);border-radius:1px}

main{flex:1;padding:24px;max-width:1400px;margin:0 auto;width:100%}
@keyframes fadeUp{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}

.hero{text-align:center;padding:48px 24px 16px}
.hero h1{font-size:48px;font-weight:900;background:linear-gradient(135deg,var(--neon),var(--purple));-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:-2px;margin-bottom:8px}
.hero p{color:var(--text2);font-size:16px;margin-bottom:24px}
@media(max-width:480px){.hero h1{font-size:32px}}

.card{background:var(--bg2);border:1px solid rgba(255,255,255,.05);border-radius:var(--radius);padding:20px;transition:.25s}
.card:hover{border-color:rgba(0,255,136,.15);box-shadow:0 4px 30px rgba(0,0,0,.3)}

.comp-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:32px}
@media(max-width:900px){.comp-grid{grid-template-columns:1fr}}

.comp-card{position:relative;overflow:hidden}
.comp-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--neon),var(--purple));opacity:0;transition:.3s}
.comp-card:hover::before{opacity:1}

.comp-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;cursor:pointer;user-select:none}
.comp-header h2{font-size:16px;font-weight:800;display:flex;align-items:center;gap:10px}
.comp-header h2 i{color:var(--neon);font-size:14px}
.comp-header .arrow{color:var(--text3);transition:transform .3s;font-size:12px}
.comp-header .arrow.open{transform:rotate(180deg)}
.comp-tag{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:1px;padding:3px 10px;border-radius:10px;background:rgba(0,232,123,.08);color:var(--neon);border:1px solid rgba(0,232,123,.15)}

.comp-body{overflow:hidden;transition:max-height .4s ease, opacity .3s ease;max-height:600px;opacity:1}
.comp-body.collapsed{max-height:0;opacity:0}

.mono{font-family:'JetBrains Mono',monospace;font-weight:600}
.green{color:var(--neon)}.pink{color:var(--pink)}.purple{color:var(--purple)}.orange{color:var(--orange)}.yellow{color:var(--yellow)}

.stat-row{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid rgba(255,255,255,.04);font-size:13px}
.stat-row:last-child{border-bottom:none}
.stat-row .label{color:var(--text3)}
.stat-row .val{font-family:'JetBrains Mono',monospace;font-weight:700}

.action-btn{padding:10px 20px;border-radius:var(--radius2);font-size:13px;font-weight:700;transition:.3s;text-transform:uppercase;letter-spacing:.5px}
.action-btn:hover{transform:translateY(-1px)}
.btn-neon{color:#000;background:linear-gradient(135deg,var(--neon),#00cc66)}
.btn-neon:hover{box-shadow:0 6px 20px rgba(0,232,123,.3)}
.btn-outline{color:var(--neon);background:rgba(0,232,123,.08);border:1px solid rgba(0,232,123,.2)}
.btn-outline:hover{background:rgba(0,232,123,.15)}

/* Badge toggles */
.badge-grid{display:flex;flex-wrap:wrap;gap:8px;margin:12px 0}
.badge-toggle{padding:8px 14px;border-radius:20px;font-size:12px;font-weight:700;background:var(--bg);border:1px solid rgba(255,255,255,.06);color:var(--text3);transition:.2s;cursor:pointer;display:flex;align-items:center;gap:6px}
.badge-toggle.active{background:rgba(0,232,123,.1);border-color:rgba(0,232,123,.3);color:var(--neon)}
.badge-toggle i{font-size:14px}

/* Gauge */
.gauge-container{position:relative;width:120px;height:60px;margin:12px auto}
.gauge-bg{width:120px;height:60px;border-radius:60px 60px 0 0;background:conic-gradient(from 180deg at 50% 100%,var(--pink) 0deg,var(--orange) 60deg,var(--yellow) 120deg,var(--neon) 180deg);overflow:hidden}
.gauge-mask{position:absolute;bottom:0;left:10px;right:10px;height:50px;border-radius:50px 50px 0 0;background:var(--bg2)}
.gauge-needle{position:absolute;bottom:0;left:50%;width:2px;height:50px;background:var(--text);transform-origin:bottom center;transition:transform .6s ease;border-radius:1px}
.gauge-val{text-align:center;font-family:'JetBrains Mono',monospace;font-size:24px;font-weight:900;margin-top:4px}

/* Progress bar */
.progress-bar{height:8px;background:var(--bg);border-radius:4px;overflow:hidden;margin:8px 0}
.progress-bar .fill{height:100%;border-radius:4px;transition:width .5s ease}
.progress-neon .fill{background:linear-gradient(90deg,var(--neon),var(--purple))}
.progress-orange .fill{background:linear-gradient(90deg,var(--orange),var(--yellow))}

/* Interest route viz */
.route-bar{display:flex;height:28px;border-radius:6px;overflow:hidden;font-size:11px;font-weight:700;margin:10px 0}
.route-bar div{display:flex;align-items:center;justify-content:center;transition:width .4s ease}

/* Chart container */
.chart-wrap{height:220px;position:relative}

/* Indicator dot */
.indicator{display:inline-flex;align-items:center;gap:6px;padding:6px 14px;border-radius:20px;font-size:13px;font-weight:700}
.indicator-yes{background:rgba(0,232,123,.1);color:var(--neon);border:1px solid rgba(0,232,123,.2)}
.indicator-no{background:rgba(255,45,120,.1);color:var(--pink);border:1px solid rgba(255,45,120,.2)}

/* Tier badge */
.tier-badge{display:inline-flex;align-items:center;gap:4px;padding:4px 12px;border-radius:12px;font-size:12px;font-weight:800;text-transform:uppercase;letter-spacing:.5px}
.tier-bronze{background:rgba(205,127,50,.12);color:#cd7f32;border:1px solid rgba(205,127,50,.25)}
.tier-silver{background:rgba(192,192,192,.12);color:#c0c0c0;border:1px solid rgba(192,192,192,.25)}
.tier-gold{background:rgba(255,215,0,.12);color:#ffd700;border:1px solid rgba(255,215,0,.25)}
.tier-platinum{background:rgba(229,228,226,.12);color:#e5e4e2;border:1px solid rgba(229,228,226,.25)}

footer{text-align:center;padding:24px;color:var(--text3);font-size:12px;border-top:1px solid rgba(255,255,255,.04)}

@media(max-width:600px){
  nav{overflow-x:auto;justify-content:flex-start}
  .nav-item{white-space:nowrap;padding:10px 16px;font-size:13px}
  main{padding:16px}
  header{padding:0 16px}
  .logo{font-size:18px}
}
</style>
</head>
<body>
<div id="app">
  <div class="testnet-banner"><span>‚ö° Devnet Testnet ‚Äî Not Real Funds ‚ö°</span></div>

  <header>
    <a href="index.html" class="logo">
      <div class="logo-icon">üöÄ</div>
      <div>Send<span class="dot">.</span><span>it</span></div>
    </a>
    <button class="wallet-btn" onclick="toggleWallet(this)"><i class="fas fa-wallet"></i>&nbsp; Connect Wallet</button>
  </header>

  <nav>
    <a href="index.html" class="nav-item"><i class="fas fa-rocket"></i> Launchpad</a>
    <a href="staking.html" class="nav-item"><i class="fas fa-coins"></i> Staking</a>
    <a href="trading.html" class="nav-item"><i class="fas fa-chart-line"></i> Trading</a>
    <a href="social.html" class="nav-item"><i class="fas fa-users"></i> Social</a>
    <a href="lending.html" class="nav-item"><i class="fas fa-hand-holding-usd"></i> Lending</a>
    <a href="governance.html" class="nav-item"><i class="fas fa-landmark"></i> Governance</a>
    <a href="composer.html" class="nav-item active"><i class="fas fa-cubes"></i> Composer</a>
    <a href="creator-dashboard.html" class="nav-item"><i class="fas fa-palette"></i> Creator</a>
  </nav>

  <main>
    <div class="hero">
      <h1>Cross-Module Composer</h1>
      <p>Visualize how Send.it modules compose together ‚Äî staking, reputation, points, lending, fees & more</p>
    </div>

    <div class="comp-grid">

      <!-- 1. Staking ‚Üî Reputation -->
      <div class="card comp-card" style="animation:fadeUp .35s ease">
        <div class="comp-header" onclick="toggleCard(this)">
          <h2><i class="fas fa-coins"></i> Staking ‚Üî Reputation</h2>
          <div style="display:flex;align-items:center;gap:10px"><span class="comp-tag">Live</span><i class="fas fa-chevron-down arrow open"></i></div>
        </div>
        <div class="comp-body" id="card-stake-rep">
          <div class="stat-row"><span class="label">Your Staked</span><span class="val green">8,500 SEND</span></div>
          <div class="stat-row"><span class="label">Rep Boost</span><span class="val" style="color:var(--yellow)">+18.7 <span style="font-size:11px;color:var(--text3)">(cap 25)</span></span></div>
          <div class="stat-row"><span class="label">Rep Tier</span><span class="val"><span class="tier-badge tier-gold">ü•á Gold</span></span></div>
          <div style="margin-top:14px">
            <div style="font-size:11px;color:var(--text3);text-transform:uppercase;letter-spacing:1px;margin-bottom:6px">Rep Boost from Staking</div>
            <div class="progress-bar progress-neon"><div class="fill" style="width:74.8%"></div></div>
            <div style="display:flex;justify-content:space-between;font-size:11px;color:var(--text3)"><span>0</span><span style="color:var(--neon)">18.7</span><span>25</span></div>
          </div>
          <div style="margin-top:16px;text-align:center">
            <button class="action-btn btn-outline" onclick="checkStakingGate()">üîç Check Staking Gate</button>
            <div id="staking-gate-result" style="margin-top:10px;font-size:13px"></div>
          </div>
        </div>
      </div>

      <!-- 2. Points ‚Üî Achievements -->
      <div class="card comp-card" style="animation:fadeUp .35s ease .05s;animation-fill-mode:both">
        <div class="comp-header" onclick="toggleCard(this)">
          <h2><i class="fas fa-trophy"></i> Points ‚Üî Achievements</h2>
          <div style="display:flex;align-items:center;gap:10px"><span class="comp-tag">Live</span><i class="fas fa-chevron-down arrow open"></i></div>
        </div>
        <div class="comp-body" id="card-points-ach">
          <div style="font-size:11px;color:var(--text3);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px">Badges (click to toggle)</div>
          <div class="badge-grid" id="badge-grid">
            <button class="badge-toggle active" data-badge="FIRST_LAUNCH" onclick="toggleBadge(this)"><i class="fas fa-rocket"></i> First Launch</button>
            <button class="badge-toggle active" data-badge="DIAMOND_HANDS" onclick="toggleBadge(this)"><i class="fas fa-gem"></i> Diamond Hands</button>
            <button class="badge-toggle" data-badge="WHALE" onclick="toggleBadge(this)"><i class="fas fa-water"></i> Whale</button>
            <button class="badge-toggle active" data-badge="DEGEN_100" onclick="toggleBadge(this)"><i class="fas fa-fire"></i> Degen 100</button>
            <button class="badge-toggle" data-badge="EARLY_ADOPTER" onclick="toggleBadge(this)"><i class="fas fa-seedling"></i> Early Adopter</button>
          </div>
          <div class="stat-row"><span class="label">Active Badges</span><span class="val green" id="active-badge-count">3</span></div>
          <div class="stat-row"><span class="label">Points Multiplier</span><span class="val" style="color:var(--yellow)" id="points-multiplier">1.75x</span></div>
          <div class="stat-row"><span class="label">Points Level</span><span class="val purple" id="points-level">Level 7</span></div>
          <div style="margin-top:12px;font-size:11px;color:var(--text3);text-transform:uppercase;letter-spacing:1px;margin-bottom:6px">Achievement Unlocks at Points Level</div>
          <div style="display:flex;gap:6px;flex-wrap:wrap" id="achievement-unlocks">
            <span style="padding:4px 10px;border-radius:8px;background:rgba(0,232,123,.08);color:var(--neon);font-size:11px;font-weight:700;border:1px solid rgba(0,232,123,.15)">‚úÖ Custom Profile</span>
            <span style="padding:4px 10px;border-radius:8px;background:rgba(0,232,123,.08);color:var(--neon);font-size:11px;font-weight:700;border:1px solid rgba(0,232,123,.15)">‚úÖ Boosted Referrals</span>
            <span style="padding:4px 10px;border-radius:8px;background:rgba(168,85,247,.08);color:var(--purple);font-size:11px;font-weight:700;border:1px solid rgba(168,85,247,.15)">üîí Market Creator (Lvl 10)</span>
          </div>
        </div>
      </div>

      <!-- 3. Lending ‚Üî Staking -->
      <div class="card comp-card" style="animation:fadeUp .35s ease .1s;animation-fill-mode:both">
        <div class="comp-header" onclick="toggleCard(this)">
          <h2><i class="fas fa-hand-holding-usd"></i> Lending ‚Üî Staking</h2>
          <div style="display:flex;align-items:center;gap:10px"><span class="comp-tag">Live</span><i class="fas fa-chevron-down arrow open"></i></div>
        </div>
        <div class="comp-body" id="card-lend-stake">
          <div class="stat-row"><span class="label">Staked Amount</span><span class="val green">8,500 SEND</span></div>
          <div class="stat-row"><span class="label">Collateral Value</span><span class="val" style="color:var(--yellow)" id="collateral-value">$6,120</span></div>
          <div style="margin-top:14px">
            <div style="display:flex;justify-content:space-between;font-size:11px;margin-bottom:4px"><span style="color:var(--text3)">Collateral Ratio</span><span class="mono green" id="collat-ratio-display">72%</span></div>
            <input type="range" min="10" max="100" value="72" id="collat-slider" oninput="updateCollateral(this.value)">
            <div style="display:flex;justify-content:space-between;font-size:10px;color:var(--text3)"><span>10%</span><span>100%</span></div>
          </div>
          <div style="margin-top:14px">
            <div style="font-size:11px;color:var(--text3);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px">Interest Routing</div>
            <div class="route-bar">
              <div id="route-staking" style="width:30%;background:rgba(0,232,123,.25);color:var(--neon)">30% ‚Üí Staking</div>
              <div id="route-retained" style="width:70%;background:rgba(168,85,247,.2);color:var(--purple)">70% Retained</div>
            </div>
            <div style="display:flex;justify-content:space-between;font-size:11px;margin-top:4px"><span style="color:var(--text3)">Route to Staking</span><span class="mono green" id="route-pct-display">30%</span></div>
            <input type="range" min="0" max="100" value="30" id="route-slider" oninput="updateRouting(this.value)">
          </div>
        </div>
      </div>

      <!-- 4. Referral ‚Üî Points -->
      <div class="card comp-card" style="animation:fadeUp .35s ease .15s;animation-fill-mode:both">
        <div class="comp-header" onclick="toggleCard(this)">
          <h2><i class="fas fa-user-plus"></i> Referral ‚Üî Points</h2>
          <div style="display:flex;align-items:center;gap:10px"><span class="comp-tag">Live</span><i class="fas fa-chevron-down arrow open"></i></div>
        </div>
        <div class="comp-body" id="card-ref-points">
          <div class="stat-row"><span class="label">Your Referrals</span><span class="val green">17</span></div>
          <div class="stat-row"><span class="label">Points Earned</span><span class="val" style="color:var(--yellow)">8,500 pts</span></div>
          <div class="stat-row"><span class="label">Points per Referral</span><span class="val purple">500 pts</span></div>
          <div style="margin-top:14px">
            <div style="display:flex;justify-content:space-between;font-size:11px;margin-bottom:4px"><span style="color:var(--text3)">Progress to Bonus (25 referrals)</span><span class="mono green">17 / 25</span></div>
            <div class="progress-bar progress-orange"><div class="fill" style="width:68%"></div></div>
          </div>
          <div style="margin-top:12px;background:var(--bg);border-radius:var(--radius2);padding:14px;text-align:center">
            <div style="font-size:11px;color:var(--text3);text-transform:uppercase;letter-spacing:1px;margin-bottom:4px">Bonus at 25 Referrals</div>
            <div style="font-family:'JetBrains Mono',monospace;font-size:22px;font-weight:900;color:var(--yellow)">üéÅ 10,000 pts</div>
            <div style="font-size:12px;color:var(--text3);margin-top:4px">8 referrals to go</div>
          </div>
        </div>
      </div>

      <!-- 5. Reputation ‚Üî Prediction -->
      <div class="card comp-card" style="animation:fadeUp .35s ease .2s;animation-fill-mode:both">
        <div class="comp-header" onclick="toggleCard(this)">
          <h2><i class="fas fa-shield-halved"></i> Reputation ‚Üî Prediction</h2>
          <div style="display:flex;align-items:center;gap:10px"><span class="comp-tag">Live</span><i class="fas fa-chevron-down arrow open"></i></div>
        </div>
        <div class="comp-body" id="card-rep-pred">
          <div class="gauge-container">
            <div class="gauge-bg"></div>
            <div class="gauge-mask"></div>
            <div class="gauge-needle" id="fairscore-needle" style="transform:rotate(-22deg)"></div>
          </div>
          <div class="gauge-val green" id="fairscore-val">72</div>
          <div style="text-align:center;font-size:11px;color:var(--text3);margin-bottom:14px">FairScore</div>
          <div class="stat-row"><span class="label">Can Create Market?</span><span class="val" id="can-create-market"><span class="indicator indicator-yes"><i class="fas fa-check-circle"></i> Yes (‚â•50 required)</span></span></div>
          <div class="stat-row"><span class="label">Prediction Wins</span><span class="val green">23</span></div>
          <div style="margin-top:14px;background:var(--bg);border-radius:var(--radius2);padding:14px">
            <div style="font-size:11px;color:var(--text3);text-transform:uppercase;letter-spacing:1px;margin-bottom:8px">Win ‚Üí Rep Boost Preview</div>
            <div style="display:flex;align-items:center;gap:12px">
              <div style="font-family:'JetBrains Mono',monospace;font-size:18px;font-weight:900;color:var(--neon)">72</div>
              <i class="fas fa-arrow-right" style="color:var(--text3)"></i>
              <div style="font-family:'JetBrains Mono',monospace;font-size:18px;font-weight:900;color:var(--yellow)">74.5</div>
              <span style="font-size:12px;color:var(--neon)">+2.5 pts</span>
            </div>
          </div>
        </div>
      </div>

      <!-- 6. Fee Splitting ‚Üî Holder Rewards -->
      <div class="card comp-card" style="animation:fadeUp .35s ease .25s;animation-fill-mode:both">
        <div class="comp-header" onclick="toggleCard(this)">
          <h2><i class="fas fa-money-bill-wave"></i> Fee Splitting ‚Üî Holder Rewards</h2>
          <div style="display:flex;align-items:center;gap:10px"><span class="comp-tag">Live</span><i class="fas fa-chevron-down arrow open"></i></div>
        </div>
        <div class="comp-body" id="card-fee-rewards">
          <div class="chart-wrap">
            <canvas id="feeChart"></canvas>
          </div>
          <div style="margin-top:14px">
            <div style="display:flex;justify-content:space-between;font-size:11px;margin-bottom:4px"><span style="color:var(--text3)">Fee BPS to Holders</span><span class="mono green" id="fee-bps-display">250 bps</span></div>
            <input type="range" min="50" max="500" value="250" step="10" id="fee-slider" oninput="updateFees(this.value)">
            <div style="display:flex;justify-content:space-between;font-size:10px;color:var(--text3)"><span>50 bps</span><span>500 bps</span></div>
          </div>
          <div class="stat-row" style="margin-top:10px"><span class="label">Total Fees Collected</span><span class="val green">$124,800</span></div>
          <div class="stat-row"><span class="label">Routed to Holders</span><span class="val" style="color:var(--yellow)" id="fees-routed">$31,200</span></div>
          <div class="stat-row"><span class="label">Protocol Treasury</span><span class="val purple" id="fees-treasury">$93,600</span></div>
        </div>
      </div>

    </div>
  </main>

  <footer>
    <div>Send.it ‚Äî Built on Solana ‚ö°</div>
    <div style="margin-top:4px">¬© 2025 Send.it Protocol. All rights reserved.</div>
  </footer>
</div>

<script>
// Wallet toggle
function toggleWallet(btn){
  if(btn.textContent.includes('Connect')){
    btn.innerHTML='7xK3...f9mQ';btn.style.background='var(--bg3)';btn.style.color='var(--neon)';btn.style.border='1px solid rgba(0,255,136,.2)';
  } else {
    btn.innerHTML='<i class="fas fa-wallet"></i>&nbsp; Connect Wallet';btn.style.background='';btn.style.color='';btn.style.border='';
  }
}

// Card expand/collapse
function toggleCard(header){
  const body=header.nextElementSibling;
  const arrow=header.querySelector('.arrow');
  body.classList.toggle('collapsed');
  arrow.classList.toggle('open');
}

// Staking Gate check
function checkStakingGate(){
  const el=document.getElementById('staking-gate-result');
  el.innerHTML='<span class="indicator indicator-yes"><i class="fas fa-check-circle"></i> Your rep (72) allows staking ‚Äî Gold tier unlocked</span>';
}

// Badge toggles
function toggleBadge(btn){
  btn.classList.toggle('active');
  const active=document.querySelectorAll('.badge-toggle.active').length;
  document.getElementById('active-badge-count').textContent=active;
  const mult=1+active*0.25;
  document.getElementById('points-multiplier').textContent=mult.toFixed(2)+'x';
}

// Collateral slider
function updateCollateral(val){
  document.getElementById('collat-ratio-display').textContent=val+'%';
  const base=8500*0.025*100; // $21,250 staked value at $2.50
  document.getElementById('collateral-value').textContent='$'+(base*val/100/2.5).toLocaleString(undefined,{maximumFractionDigits:0});
}

// Interest routing
function updateRouting(val){
  document.getElementById('route-pct-display').textContent=val+'%';
  document.getElementById('route-staking').style.width=val+'%';
  document.getElementById('route-staking').textContent=val+'% ‚Üí Staking';
  document.getElementById('route-retained').style.width=(100-val)+'%';
  document.getElementById('route-retained').textContent=(100-val)+'% Retained';
}

// Fee slider
let feeChart;
function updateFees(bps){
  document.getElementById('fee-bps-display').textContent=bps+' bps';
  const total=124800;
  const holderPct=bps/10000;
  const toHolders=total*holderPct*100/2.5; // scaled for demo
  const routed=Math.round(total*bps/1000);
  const treasury=total-routed;
  document.getElementById('fees-routed').textContent='$'+routed.toLocaleString();
  document.getElementById('fees-treasury').textContent='$'+treasury.toLocaleString();
  if(feeChart){
    feeChart.data.datasets[0].data=[routed,treasury];
    feeChart.update();
  }
}

// Fairscore needle: score 72 => angle from -90 (0) to 0 (50) to 90 (100)
// 72 => (72/100)*180 - 90 = 39.6deg
document.getElementById('fairscore-needle').style.transform='rotate(39.6deg)';

// Fee Chart
const fctx=document.getElementById('feeChart').getContext('2d');
feeChart=new Chart(fctx,{
  type:'doughnut',
  data:{
    labels:['Holder Rewards','Protocol Treasury'],
    datasets:[{data:[31200,93600],backgroundColor:['rgba(0,232,123,.7)','rgba(168,85,247,.6)'],borderColor:['rgba(0,232,123,1)','rgba(168,85,247,1)'],borderWidth:2,hoverOffset:8}]
  },
  options:{
    responsive:true,
    maintainAspectRatio:false,
    cutout:'65%',
    plugins:{
      legend:{position:'bottom',labels:{color:'#8888aa',font:{family:'Inter',weight:600,size:12},padding:16}},
      tooltip:{backgroundColor:'#1c1f2e',titleColor:'#e8e8f0',bodyColor:'#8888aa',borderColor:'rgba(0,232,123,.2)',borderWidth:1,callbacks:{label:function(ctx){return ctx.label+': $'+ctx.raw.toLocaleString()}}}
    }
  }
});
</script>
</body>
</html>
